(this["webpackJsonp@jazaa/jazaa-payment-gateway"]=this["webpackJsonp@jazaa/jazaa-payment-gateway"]||[]).push([[57],{1445:function(e,a,t){"use strict";t.r(a);var n=t(550),r=t.n(n),c=t(551),l=t(545),o=t(0),i=t.n(o),u=t(1472),s=t(1413),m=t(1414),d=t(1415),p=t(799),h=t(896),E=t(527),g=t(526),f=t(88),b=t(522),v=t(754),k=t(523),y=t(651),O=t(525),j=t(603),x=t(660),w=t(1446),z=t(758),S=t(22),C=t(562),A=t.n(C),I=t(572),L=(t(571),t(1084)),R=t(1085),D=t(167);a.default=function(e){var a=Object(o.useState)(""),t=Object(l.a)(a,2),n=t[0],C=t[1],N=Object(o.useState)(""),T=Object(l.a)(N,2),B=T[0],F=T[1],M=Object(o.useState)(!1),P=Object(l.a)(M,2),_=P[0],q=P[1],J=Object(o.useState)([]),K=Object(l.a)(J,2),U=K[0],V=K[1],G=Object(o.useState)(!1),H=Object(l.a)(G,2),Q=H[0],W=H[1],X=Object(o.useState)([]),Y=Object(l.a)(X,2),Z=Y[0],$=Y[1],ee=Object(o.useState)(!1),ae=Object(l.a)(ee,2),te=ae[0],ne=ae[1],re=Object(o.useState)(null),ce=Object(l.a)(re,2),le=ce[0],oe=ce[1],ie=Object(o.useState)(0),ue=Object(l.a)(ie,2),se=ue[0],me=ue[1],de=Object(o.useState)(null),pe=Object(l.a)(de,2),he=pe[0],Ee=pe[1],ge=e.match.params.id;Object(o.useEffect)((function(){A.a.get("".concat(D.a,"/merchant/").concat(ge),{headers:{Authorization:"Bearer ".concat(D.b)}}).then((function(e){"ERROR"===e.data.status&&(window.location.href="/404"),C(e.data.data.name),F(e.data.data.phone),q(e.data.data.active)})).catch((function(e){return console.log(e)})),function(){var e=Object(c.a)(r.a.mark((function e(){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("".concat(D.a,"/rekening-merchant/").concat(ge),{headers:{Authorization:"Bearer ".concat(D.b)}});case 3:a=e.sent,console.log(a.data),$(a.data.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()(),A.a.get("".concat(D.a,"/rekening-admin"),{headers:{Authorization:"Bearer ".concat(D.b)}}).then((function(e){console.log(e.data.values),V(e.data.values)}))}),[ge]),console.log(U);var fe=function(e){I.b.success("".concat(e),{onClose:function(){return window.location.href="/user-management"},autoClose:3e3})},be=function(e){I.b.error("".concat(e),{autoClose:3e3})},ve=function(){var a=Object(c.a)(r.a.mark((function a(t){var c,l;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=e.match.params.id,t.preventDefault(),a.prev=2,a.next=5,A.a.put("".concat(D.a,"/merchant/").concat(c),{name:n,phone:B.toString(),active:_},{headers:{Authorization:"Bearer ".concat(D.b)}});case 5:if("OK"!==(l=a.sent).data.status||0===l.data.data.length){a.next=10;break}fe("Data berhasil diedit"),a.next=15;break;case 10:if(400!==l.status){a.next=14;break}return a.abrupt("return",i.a.createElement(S.c,{to:"/404"}));case 14:be("Terdapat kesalahan pada server");case 15:a.next=20;break;case 17:a.prev=17,a.t0=a.catch(2),console.log(a.t0);case 20:case"end":return a.stop()}}),a,null,[[2,17]])})));return function(e){return a.apply(this,arguments)}}(),ke=function(){var a=Object(c.a)(r.a.mark((function a(){var t;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.match.params.id,a.prev=1,a.next=4,A.a.delete("".concat(D.a,"/merchant/").concat(t),{headers:{Authorization:"Bearer ".concat(D.b)}});case 4:"OK"===a.sent.data.status?fe("Data berhasil dihapus"):be("Terdapat kesalahan pada server"),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(){return a.apply(this,arguments)}}(),ye=function(){return W(!Q)},Oe=function(e,a){A.a.put("".concat(D.a,"/rekening-merchant/").concat(e),{merchant_rate:parseInt(se),rekening_id:parseInt(he),merchantId:parseInt(a)},{headers:{Authorization:"Bearer ".concat(D.b)}}).then((function(e){"Satu bank hanya boleh satu rekening"===e.data.messages&&be("Satu bank hanya boleh satu rekening"),e.data.data&&fe("Rekening berhasil diubah")})).catch((function(e){return console.log(e)}))},je=function(e,a){return console.log(e),i.a.createElement(i.a.Fragment,null,le===a?i.a.createElement("tr",{key:a},i.a.createElement("td",null,e.rekening.bank.name),i.a.createElement("td",null,i.a.createElement(h.a,{onChange:function(e){return Ee(e.target.value)},style:{width:200},type:"select"},i.a.createElement("option",{selected:!0,disabled:!0},"Pilih Rekening"),U.map((function(e,a){return console.log(e),i.a.createElement(i.a.Fragment,null,i.a.createElement("option",{value:e.id,key:a},e.name," ",e.number))})))),i.a.createElement("td",null,i.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.a.createElement(h.a,{onChange:function(e){return me(e.target.value)},style:{width:80},type:"text",value:se}),i.a.createElement("div",{style:{marginLeft:10}},function(e,a){return i.a.createElement(i.a.Fragment,null,i.a.createElement(p.a,{onClick:function(){Oe(e,a),oe(null)},color:"success",size:"sm"},i.a.createElement(L.b,null)))}(e.rekeningId,e.merchantId),i.a.createElement(p.a,{style:{marginLeft:10},color:"danger",size:"sm"},i.a.createElement(L.d,null)),i.a.createElement(p.a,{style:{marginLeft:10},color:"primary",size:"sm"},i.a.createElement(R.a,null)))))):i.a.createElement("tr",{key:a},i.a.createElement("td",null,e.rekening.bank.name),i.a.createElement("td",null,e.rekening.name),i.a.createElement("td",null,i.a.createElement(E.a,{style:{display:"flex",flexDirection:"row"}},e.merchant_rate,i.a.createElement(E.a,{style:{marginLeft:10}},i.a.createElement(p.a,{onClick:function(e){ne(!te),oe(a)},color:"success",size:"sm"},i.a.createElement(L.a,null)),i.a.createElement(p.a,{style:{marginLeft:10},color:"danger",size:"sm"},i.a.createElement(L.d,null)))))))};return console.log(Z),i.a.createElement("div",null,i.a.createElement(g.a,null,i.a.createElement(I.a,{position:I.b.POSITION.TOP_CENTER}),i.a.createElement(E.a,{xs:"12"},i.a.createElement(f.a,{timeout:300,in:!0},i.a.createElement(b.a,null,i.a.createElement(v.a,{onSubmit:ve,className:"form-horizontal"},i.a.createElement(k.a,null,i.a.createElement("i",{className:"fa fa-edit"}),"Edit Data Merchant"),i.a.createElement(y.a,{isOpen:!0,id:"collapseExample"},i.a.createElement(O.a,null,i.a.createElement(j.a,null,i.a.createElement(x.a,{htmlFor:"appendedInput"},"Username"),i.a.createElement(E.a,{sm:"3",style:{marginLeft:-14}},i.a.createElement(h.a,{onChange:function(e){return C(e.target.value)},value:n,name:"username",id:"appendedInput",type:"text",required:!0}))),i.a.createElement(j.a,null,i.a.createElement(x.a,{htmlFor:"phonenumber"},"Phonenumber"),i.a.createElement(E.a,{sm:"3",style:{marginLeft:-14}},i.a.createElement(h.a,{onChange:function(e){return F(e.target.value)},value:B,name:"phonenumber",id:"phonenumber",size:"16",type:"number",required:!0}))),i.a.createElement(j.a,null,i.a.createElement(x.a,{for:"exampleSelect"},"Status saat ini : ",!0===_?"Active":"Non Active"," "),i.a.createElement(E.a,{sm:"3",style:{marginLeft:-14}},i.a.createElement(h.a,{onChange:function(e){return q(e.target.value)},type:"select",name:"status",id:"exampleSelect"},i.a.createElement("option",{defaultValue:!0,selected:!0,disabled:!0},"Ubah Status"),!1===_&&i.a.createElement("option",{value:"1"},"Active"),_&&i.a.createElement(i.a.Fragment,null,i.a.createElement("option",{value:"1"},"Active"),i.a.createElement("option",{value:"0"},"Non Active"))))),i.a.createElement(b.a,{style:{marginTop:25}},i.a.createElement("p",{style:{paddingLeft:5,marginTop:-10,backgroundColor:"white",marginLeft:20,width:130}},"Merchant Rekening"),i.a.createElement(O.a,{style:{marginTop:-15}},i.a.createElement(w.a,{hover:!0,bordered:!0,striped:!0,responsive:!0,size:"sm"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Bank"),i.a.createElement("th",null,"Rekening"),i.a.createElement("th",null,"Merchant Rate"))),i.a.createElement("tbody",null,Z.map((function(e,a){return i.a.createElement(i.a.Fragment,null,je(e,a))}))))))),i.a.createElement(z.a,null,i.a.createElement(p.a,{type:"submit",size:"sm",color:"success",style:{marginRight:"10px"}},i.a.createElement("i",{className:"fa fa-dot-circle-o"}),"Edit"),i.a.createElement(p.a,{onClick:ye,type:"reset",size:"sm",color:"danger"},i.a.createElement("i",{className:"fa fa-ban"})," Delete"),i.a.createElement("div",null,i.a.createElement(u.a,{isOpen:Q,toggle:ye},i.a.createElement(s.a,{toggle:ye},"Delete Merchant"),i.a.createElement(m.a,null,"Apakah anda yakin akan menghapus merchant: ",n," dengan id: ",e.match.params.id," ini?"),i.a.createElement(d.a,null,i.a.createElement(p.a,{color:"primary",onClick:ke},"Delete")," ",i.a.createElement(p.a,{color:"secondary",onClick:ye},"Cancel"))))))))))))}}}]);